<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>mplayer和ffmpeg的编译大全-3GP格式支持 | ICT经验网</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="https://unpkg.com/normalize.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/pure-min.css"><link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="https://unpkg.com/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="https://unpkg.com/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="https://unpkg.com/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="https://unpkg.com/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">mplayer和ffmpeg的编译大全-3GP格式支持</h1><a id="logo" href="/.">ICT经验网</a><p class="description">关注Linux、PHP、WordPress、虚拟化、深度学习等</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">mplayer和ffmpeg的编译大全-3GP格式支持</h1><div class="post-meta">2008-05-06<span> | </span><span class="category"><a href="/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/">未分类</a></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 2.4k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 10</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#cd-xvidcore-build-generic"><span class="toc-number">1.</span> <span class="toc-text">cd ${xvidcore}&#x2F;build&#x2F;generic</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#configure"><span class="toc-number">2.</span> <span class="toc-text">.&#x2F;configure</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#configure-%E2%80%93help"><span class="toc-number">3.</span> <span class="toc-text">.&#x2F;configure –help</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make"><span class="toc-number">4.</span> <span class="toc-text">make</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make-install"><span class="toc-number">5.</span> <span class="toc-text">make install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd-prefix-lib"><span class="toc-number">6.</span> <span class="toc-text">cd ${prefix}&#x2F;lib</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ls-libxvidcore-so"><span class="toc-number">7.</span> <span class="toc-text">ls libxvidcore.so.*</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ln-s-libxvidcore-so-MAJOR-MINOR-libxvidcore-so-MAJOR"><span class="toc-number">8.</span> <span class="toc-text">ln -s libxvidcore.so.MAJOR.MINOR libxvidcore.so.MAJOR</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ln-s-libxvidcore-so-MAJOR-libxvidcore-so"><span class="toc-number">9.</span> <span class="toc-text">ln -s libxvidcore.so.MAJOR libxvidcore.so</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tar-zxvf-a52dec-0-7-4-tar-gz"><span class="toc-number">10.</span> <span class="toc-text">tar zxvf a52dec-0.7.4.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd-a52dec-0-7-4"><span class="toc-number">11.</span> <span class="toc-text">cd a52dec-0.7.4</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#configure-%E2%80%93enable-shared-%E2%80%93prefix-usr"><span class="toc-number">12.</span> <span class="toc-text">.&#x2F;configure –enable-shared –prefix&#x3D;&#x2F;usr</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make-1"><span class="toc-number">13.</span> <span class="toc-text">make</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make-install-1"><span class="toc-number">14.</span> <span class="toc-text">make install</span></a></li></ol></div></div><div class="post-content"><p>MPlayer下载<br><a target="_blank" rel="noopener" href="http://www.mplayerhq.hu/design7/dload.html">http://www.mplayerhq.hu/design7/dload.html</a><br>目前版本MPlayer v1.0rc2</p>
<p>MPlayer编译<br>tar -xjvf MPlayer-1.0rc2.tar.bz2<br>cd MPlayer-1.0rc2<br>.&#x2F;configure<br>make<br>make install</p>
<p>如果出现以下错误<br>cabac.h: In function <code>get_cabac_noinline’:   cabac.h:525: error: can’t find a register in class </code>GENERAL_REGS’ while reloading &#96;asm’<br>make[1]: *** [h264.o] 错误 1<br>在make前加入<br>export CFLAGS&#x3D;-fomit-frame-pointer<br>make clean</p>
<p>ffmpeg的编译大全</p>
<ol>
<li>首先获取ffmpeg</li>
</ol>
<p>很多人找不到怎么下载,其实之前ffmpeg可以通过cvs下载，不过最近他已经换成了更加强大的svn</p>
<p>如何使用SVN我这里不再介绍，网上还有大量的安装和使用的文章可以借鉴，这里简单罗列几个SVN辅助的软件：</p>
<p>SubVersion，从 <a target="_blank" rel="noopener" href="http://subversion.tigris.org/">http://subversion.tigris.org/</a> 下载，支持linux，我们这里就装这个</p>
<p>TortoiseSVN，从 <a target="_blank" rel="noopener" href="http://tortoisesvn.tigris.org/">http://tortoisesvn.tigris.org/</a> 下载，是很不错的SVN客户端程序，为windows外壳程序集成到windows资源管理器和文件管理系统的Subversion客户端，用起来很方便，commit动作变得就像Winrar右键压缩一样方便。</p>
<p>ok，那我们先装subversion，记住最好之前装过apr和apr-util，在apache.org网站能下到</p>
<p>wget <a target="_blank" rel="noopener" href="http://subversion.tigris.org/downloads/subversion-1.3.2.tar.gz">http://subversion.tigris.org/downloads/subversion-1.3.2.tar.gz</a><br>tar zvxf subversion-1.3.2.tar.gz<br>cd subversion-1.3.2<br>.&#x2F;configure –with-apr&#x3D;&#x2F;usr&#x2F;local&#x2F;apr-httpd –with-apr-util&#x3D;&#x2F;usr&#x2F;local&#x2F;apr-util-httpd&#x2F;<br>make<br>make install</p>
<p>到此，我们就可以通过svn命令获取最新的ffmpeg了</p>
<p>svn checkout svn:&#x2F;&#x2F;svn.mplayerhq.hu&#x2F;ffmpeg&#x2F;trunk ffmpeg</p>
<p>你会发现在你所在的目录，自动出现一个ffmpeg的目录，就是你下载的源代码。</p>
<p>官网：<a target="_blank" rel="noopener" href="http://ffmpeg.mplayerhq.hu/download.html">http://ffmpeg.mplayerhq.hu/download.html</a></p>
<p>我们还不能这么快编译ffmpeg，应该如果要让ffmpeg支持更多格式的转换，还需做一些前期工作</p>
<ol start="2">
<li>支持mp3，linux当然是lame，下载解压<br><a target="_blank" rel="noopener" href="http://sourceforge.net/projects/lame">http://sourceforge.net/projects/lame</a></li>
</ol>
<p><a target="_blank" rel="noopener" href="http://downloads.sourceforge.net/lame/lame-3.97.tar.gz?modtime=1159107882&big_mirror=0">lame-3.97.tar.gz</a> <a target="_blank" rel="noopener" href="http://sourceforge.net/project/mirror_picker.php?height=350&width=300&group_id=290&use_mirror=nchc&filename=lame-3.97.tar.gz" title="Currently downloading from Tainan, Taiwan - Asia">Mirror</a></p>
<p>cd lame-3.97<br>.&#x2F;configure –enable-shared –prefix&#x3D;&#x2F;usr<br>.&#x2F;make<br>.&#x2F;make install<br>这里推荐尽量装在&#x2F;usr下，默认是装在&#x2F;usr&#x2F;local下。这样ffmpeg编译都能顺利的找到库文件</p>
<p>3.支持Ogg Vorbis:<br>as4自带相应的rpm包，你可以安装一下如下rpm包<br>libvorbis, libvorbis-devel,libogg, libogg-devel</p>
<p>FC3和FC4應該是預設安裝了有關的library的，實際上要安裝的套件有4個：libvorbis、libvorbis-devel、libogg和libogg-devel。您可以用以下指令檢查一下有沒有。<br>#rpm -qa grep libogg<br>#rpm -qa grep libvorbis<br>如果沒有的話，用yum安裝就可以了。<br>4.支持xvid x264，现在最流行的两种高质量的压缩格式<br>xvid的编译安装<br>Get the latest version on <a target="_blank" rel="noopener" href="http://www.xvid.org/">http://www.xvid.org/</a>, and uncompress it on<br>your disk. Let’s name the resulting source directory ${xvidcore}.<br>wget <a target="_blank" rel="noopener" href="http://downloads.xvid.org/downloads/xvidcore-1.1.3.tar.gz">http://downloads.xvid.org/downloads/xvidcore-1.1.3.tar.gz</a></p>
<p>The next step allows you to configure the xvid sources.  </p>
<h1 id="cd-xvidcore-build-generic"><a href="#cd-xvidcore-build-generic" class="headerlink" title="cd ${xvidcore}&#x2F;build&#x2F;generic"></a>cd ${xvidcore}&#x2F;build&#x2F;generic</h1><h1 id="configure"><a href="#configure" class="headerlink" title=".&#x2F;configure"></a>.&#x2F;configure</h1><p>Some building options can be tuned thanks to the .&#x2F;configure tool. You<br>can use your own CC and CFLAGS variables in order to override xvid’s<br>default ones. To have a list of known options:  </p>
<h1 id="configure-–help"><a href="#configure-–help" class="headerlink" title=".&#x2F;configure –help"></a>.&#x2F;configure –help</h1><p>Now xvidcore is configured according to your specific platform. You<br>can still handwrite the platform.inc file in order to add&#x2F;remove<br>specific flags that .&#x2F;configure may have set them wrong.</p>
<p>It is time to build xvidcore:  </p>
<h1 id="make"><a href="#make" class="headerlink" title="make"></a>make</h1><p>That creates a &#x3D;build directory where all object files go, and where<br>the build targets are linked. If no error was reported by the build<br>process, then you can install it on your system:  </p>
<h1 id="make-install"><a href="#make-install" class="headerlink" title="make install"></a>make install</h1><p>This copies the shared and static libraries to the prefix location<br>passed to the .&#x2F;configure tool (&#x2F;usr&#x2F;local by default). The xvid.h<br>include file is also copied during the “make install” run.</p>
<p>Voila, xvidcore is installed on your system, make sure your runtime<br>linker knows about the xvidcore prefix lib dir where it is<br>installed. And make also sure that it generates a symlink to its<br>SONAME. In case it would do not take care of the symlink itself:  </p>
<h1 id="cd-prefix-lib"><a href="#cd-prefix-lib" class="headerlink" title="cd ${prefix}&#x2F;lib"></a>cd ${prefix}&#x2F;lib</h1><h1 id="ls-libxvidcore-so"><a href="#ls-libxvidcore-so" class="headerlink" title="ls libxvidcore.so.*"></a>ls libxvidcore.so.*</h1><p>    ls should list at least one libxvidcore.so.MAJOR.MINOR file  </p>
<h1 id="ln-s-libxvidcore-so-MAJOR-MINOR-libxvidcore-so-MAJOR"><a href="#ln-s-libxvidcore-so-MAJOR-MINOR-libxvidcore-so-MAJOR" class="headerlink" title="ln -s libxvidcore.so.MAJOR.MINOR libxvidcore.so.MAJOR"></a>ln -s libxvidcore.so.MAJOR.MINOR libxvidcore.so.MAJOR</h1><p>You may also add a .so link to .so.MAJOR, so that applications linked<br>against .so are in fact linked to .so.MAJOR and thus ensures better<br>binary compatibility as we take care not changing the MAJOR number<br>until there is an incompatible ABI change.  </p>
<h1 id="ln-s-libxvidcore-so-MAJOR-libxvidcore-so"><a href="#ln-s-libxvidcore-so-MAJOR-libxvidcore-so" class="headerlink" title="ln -s libxvidcore.so.MAJOR libxvidcore.so"></a>ln -s libxvidcore.so.MAJOR libxvidcore.so</h1><p>#tar zvxf xvidcore-1.1.2.tar.gz<br>#cd xvidcore-1.1.2&#x2F;build&#x2F;generic&#x2F;<br>#.&#x2F;configure –prefix&#x3D;&#x2F;usr<br>#make<br>#make install<br><strong>H264&#x2F;AVC 支援：x264</strong></p>
<p>要壓HQ1080、iPod和PSP的影片，x264是少不了的。不過要安裝x264，就需要用yasm來編譯。那就先裝個yasm吧。<br>yasm下載網址：<a target="_blank" rel="noopener" href="http://www.tortall.net/projects/yasm/releases/yasm-0.6.0.tar.gz">http://www.tortall.net/projects/yasm/releases/yasm-0.6.0.tar.gz</a><br>最新的 下载：     <a target="_blank" rel="noopener" href="http://www.tortall.net/projects/yasm/releases/yasm-0.6.2.tar.gz">Source .tar.gz</a> 0.6.2</p>
<blockquote>
<p>#tar xzvf yasm-0.6.0.tar.gz<br>#cd yasm-0.6.0<br>#.&#x2F;configure –prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;yasm<br>#make<br>#make install<br>#export PATH&#x3D;”$PATH:&#x2F;usr&#x2F;local&#x2F;yasm&#x2F;bin”<br>#vi &#x2F;etc&#x2F;profile<br>–[在最後，插入]–<br>export PATH&#x3D;”$PATH:&#x2F;usr&#x2F;local&#x2F;yasm&#x2F;bin”<br>–[存檔並關閉]–</p>
</blockquote>
<p>跟ffmpeg一樣，x264的官網也是鼓勵大家 checkout SVN來取得最新版本。但據SupeSite在2007年5月16日的說明指出官網的x264最新版有Bug，無法正常在一些Intel的CPU上編譯安 裝（甚麼雙至強、四至強CPU嘛，是指雙核和四核嗎？）。不過起碼米奇在公司的P4 2.8GHz CPU安裝沒有問題啦，所以…管它。如果您遇上問題的話，就去下載SupeSite的開發公司Comsenz的版本吧，不過先旨聲明，那個改版的授權還是 不是原來的GPL就不知道了。如果您在意於授權的話，那就用SVN checkout吧，我想那問題可能在您安裝時已經修正好了。</p>
<p>x264的获取同样是采用svn方式，看来svn取代cvs不远了<br>svn co svn:&#x2F;&#x2F;svn.videolan.org&#x2F;x264&#x2F;trunk x264<br>cd x264<br>.&#x2F;configure –prefix&#x3D;&#x2F;usr –enable-shared<br>make<br>make install</p>
<p>5.AC3和dts编码的支持<br>as4系统似乎已经支持ac3编码，编译的时候只要加–enable-a52 –enable-gpl参数就行<br>現在的ffmpeg又沒附有liba52了，所以，還是自己動手裝吧…<br>下載網站：<a target="_blank" rel="noopener" href="http://liba52.sourceforge.net/" title="liba52">http://liba52.sourceforge.net/</a></p>
<blockquote>
<h1 id="tar-zxvf-a52dec-0-7-4-tar-gz"><a href="#tar-zxvf-a52dec-0-7-4-tar-gz" class="headerlink" title="tar zxvf a52dec-0.7.4.tar.gz"></a>tar zxvf a52dec-0.7.4.tar.gz</h1><h1 id="cd-a52dec-0-7-4"><a href="#cd-a52dec-0-7-4" class="headerlink" title="cd a52dec-0.7.4"></a>cd a52dec-0.7.4</h1><h1 id="configure-–enable-shared-–prefix-usr"><a href="#configure-–enable-shared-–prefix-usr" class="headerlink" title=".&#x2F;configure –enable-shared –prefix&#x3D;&#x2F;usr"></a>.&#x2F;configure –enable-shared –prefix&#x3D;&#x2F;usr</h1><h1 id="make-1"><a href="#make-1" class="headerlink" title="make"></a>make</h1><h1 id="make-install-1"><a href="#make-install-1" class="headerlink" title="make install"></a>make install</h1></blockquote>
<p>6.mpg4 aac格式支持，由于服务器还针对手机用户服务，所以，类似aac，mpg4铃声格式的支持，我们也得做。这里我们安装faad2和faac就行<br>faac是用來壓製AAC音軌的，而faad2就是AAC音軌的解碼器。手機鈴聲和MP4影片都是使用AAC作聲音編碼的，所以要裝這個。<br>另外，faac和faad2都可以配合libmp4v2來安裝，有些網站說需要先<a target="_blank" rel="noopener" href="http://resare.com/libmp4v2/">安裝libmp4v2</a>，（ <a target="_blank" rel="noopener" href="http://mpeg4ip.net/">http://mpeg4ip.net/</a>）不過米奇就發覺只要編譯faac和faad2時加入適當參數，就可以連同libmp4v2一同安裝了。<br>下载请到<a target="_blank" rel="noopener" href="http://www.audiocoding.com/downloads.html">http://www.audiocoding.com/downloads.html</a></p>
<p>FAAD2的编译<br>cd faad2<br>autoreconf -vif<br>.&#x2F;configure –prefix&#x3D;&#x2F;usr –with-mp4v2 –enable-shared<br>make<br>make install</p>
<p>faac的编译<br>cd faac<br>chmod +x bootstrap<br>.&#x2F;bootstrap<br>.&#x2F;configure –prefix&#x3D;&#x2F;usr –with-mp4v2 –enable-shared<br>make<br>make install<br>Comsenz版下載網址：<a target="_blank" rel="noopener" href="http://download.discuz.net/env/video/faac-1.25-Comsenz.tar.bz2">http://download.discuz.net/env/video/faac-1.25-Comsenz.tar.bz2</a></p>
<blockquote>
<p>#tar xjvf faac-1.25-Comsenz.tar.bz2<br>#cd faac-Comsenz<br>#autoreconf -vif<br>#.&#x2F;configure –prefix&#x3D;&#x2F;usr –with-mp4v2 –enable-shared<br>#make<br>#make install</p>
</blockquote>
<p>要知道安裝了faac和faad2之後有沒有安裝好libmp4v的話，只要找一找&#x2F;usr&#x2F;lib目錄裡有沒有libmp4v2.so等一系列檔案就可以了。找不到的話，就到<a target="_blank" rel="noopener" href="http://resare.com/libmp4v2/">這裡</a>去下載，安裝好之後再重頭安裝faac和faad2了。</p>
<p>7.支持3gp格式，这也是现在好多手机支持的格式，因为手机用户是我们的主要用户，所以也得支持编译</p>
<p>编译的时候加上–enable-amr_nb –enable-amr_wb参数就行，根据编译系统的提示，所以我们得下载一</p>
<p>些编译3gp所需得文件。</p>
<p>wget <a target="_blank" rel="noopener" href="http://www.3gpp.org/ftp/Specs/archive/26_series/26.204/26204-510.zip">http://www.3gpp.org/ftp/Specs/ar … 6.204/26204-510.zip</a><br>解压以后把里面的文件都拷贝到libavcodec&#x2F;amrwb_float</p>
<p>wget <a target="_blank" rel="noopener" href="http://www.3gpp.org/ftp/Specs/archive/26_series/26.104/26104-510.zip">http://www.3gpp.org/ftp/Specs/ar … 6.104/26104-510.zip</a><br>解压以后把里面的文件都拷贝到libavcodec&#x2F;amr_float</p>
<p><strong>3GPP AMR Floating point 和 AMR-Wideband支援：libamrnb、libamrwb</strong> 3GP影片的影像是h263編碼，而聲音就用AMR-NB或AMR-WB編碼，所以要轉換手機影片，就要安裝AMR程式庫。最初坊間的 安裝方式都是到3GPP官網去下載那些連名字也搞不懂的檔案來，放在ffmpeg裡的指定目錄去跟ffmpeg一同編譯的，但現在已經有人抽取了出來而成 為獨立的程式庫，安裝起來就簡單得多了。<br>下載網址：<a target="_blank" rel="noopener" href="http://www.penguin.cz/%7Eutx/amr">http://www.penguin.cz/~utx&#x2F;amr</a></p>
<blockquote>
<p>libamrnb<br>#tar xjvf amrnb-7.0.0.0.tar.tar<br>#cd amrnb-7.0.0.0<br>#.&#x2F;configure –prefix&#x3D;&#x2F;usr –enable-shared<br>#make<br>#make install</p>
</blockquote>
<blockquote>
<p>libamrwb<br>#tar xjvf amrwb-7.0.0.2.tar.tar<br>#cd amrwb-7.0.0.2<br>#.&#x2F;configure –prefix&#x3D;&#x2F;usr –enable-shared<br>#make<br>#make install</p>
</blockquote>
<p><strong>8. DTS 支援：libdca</strong><br>ffmpeg已經內含了用來解碼DTS的libdca，所以不用安裝，也沒有要入加的參數。</p>
<p><strong>9. 安裝ffmpeg</strong><br>安裝完成必要的程式庫之後，終於可以動手安裝ffmpeg本體了。如果您先前曾經安裝過ffmpeg的話，就先把ffmpeg的源碼目錄刪掉，再次checkout個新版本回來安裝吧。</p>
<blockquote>
<p>#svn checkout svn:&#x2F;&#x2F;svn.mplayerhq.hu&#x2F;ffmpeg&#x2F;trunk &#x2F;usr&#x2F;local&#x2F;src&#x2F;ffmpeg<br>#cd &#x2F;usr&#x2F;local&#x2F;src&#x2F;ffmpeg<br>#.&#x2F;configure –prefix&#x3D;&#x2F;usr –enable-gpl –enable-shared –enable-libmp3lame –enable-libvorbis –enable-libamr-nb –enable-libamr-wb –enable-libxvid –enable-libx264 –enable-liba52 –enable-liba52bin –enable-libfaac –enable-libfaad –enable-libfaadbin –enable-pp –enable-pthreads –disable-ffserver –disable-ffplay<br>#make clean &amp;&amp; make<br>#make install</p>
</blockquote>
<p>經過可以去看一節動畫的時間編譯之後，你應該可以在&#x2F;usr&#x2F;bin目錄裡找到ffmpeg程式。輸入ffmpeg便會列出用了甚麼參數來編譯這個 ffmpeg和它的版本。米奇試過用以這程序來安裝的ffmpeg來編製和解壓3GP、Xvid、mov、wmv9、msmpeg4、MPEG2+AC3 音源、h264+aac音源的mkv、PSP用的MP4和FLV影片，都沒有問題，只有wmv7的影片無法解碼，相信已經對應得到大部份現時流行的影音格 式了。</p>
<p>可以用 ffmpeg -threads [thread_count] -deinterlace -i [input_file] -ac 2 -ab [audio_bitrate] -acodec libfaac -vcodec libx264 -b [video_bitrate] [output_file] 來產生 H.264+AAC 的 mp4 檔案了。</p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/ffmpeg%E7%BC%96%E8%AF%91-%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AA%E7%89%88%E6%9C%AC-3gp%E6%94%AF%E6%8C%81%E6%97%B6%E7%9B%B4%E6%8E%A5%E6%8F%90%E4%BE%9B%E4%BA%86%E8%A7%A3%E7%A0%81%E5%8C%85%E4%B8%8B/">ffmpeg编译 ~另外一个版本 3GP支持时直接提供了解码包下载</a><a class="next" href="/%E5%AE%89%E8%A3%85%E5%AE%8Cphpmotion%E4%B9%8B%E5%90%8E-%E4%B8%8A%E4%BC%A0%E8%A7%86%E9%A2%91%E6%B2%A1%E6%9C%89%E5%8F%8D%E5%BA%94/">安装完PHPmotion之后 上传视频没有反应</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="输入关键词搜索"/><input type="hidden" name="sitesearch" value="http://ict.20089262.xyz"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/%E5%AE%B6%E5%BA%AD%E7%BD%91%E7%BB%9C%E5%86%8D%E6%AC%A1%E4%BC%98%E5%8C%96%EF%BC%9A%E5%87%8F%E5%B0%91%E5%A4%8D%E6%9D%82%E6%80%A7%E5%87%8F%E5%B0%91%E8%AE%BE%E5%A4%87/">家庭网络再次优化：减少复杂性减少设备</a></li><li class="post-list-item"><a class="post-list-link" href="/%E5%8C%97%E4%BA%AC%E8%81%94%E9%80%9A%E6%9B%B4%E6%8D%A2%E5%85%89%E7%8C%AB%E7%83%BD%E7%81%ABhg5582a/">北京联通更换光猫烽火HG5582A</a></li><li class="post-list-item"><a class="post-list-link" href="/%E9%9D%9E%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%ACr%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85%E4%BE%9D%E8%B5%96%E9%97%AE%E9%A2%98/">非最新版本R安装软件包依赖问题</a></li><li class="post-list-item"><a class="post-list-link" href="/pycharm-r%E8%84%9A%E6%9C%AC%E7%94%BB%E5%9B%BE%E4%B8%8D%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/">PyCharm R脚本 画图不显示问题</a></li><li class="post-list-item"><a class="post-list-link" href="/%E5%AE%B6%E5%BA%AD%E7%BD%91%E7%BB%9C%E5%8D%87%E7%BA%A7300m-1000m/">家庭网络升级300M-1000M</a></li><li class="post-list-item"><a class="post-list-link" href="/win11-23h2-%E5%8D%87%E7%BA%A724h2/">Win11 23H2 升级24H2：使用微软官方工具MBR2GPT转换磁盘MBR->GPT</a></li><li class="post-list-item"><a class="post-list-link" href="/%E6%9C%89%E9%81%93%E4%BA%91%E7%AC%94%E8%AE%B0%E4%B8%A4%E4%B8%AA%E8%B4%A6%E5%8F%B7%E5%90%88%E5%B9%B6%EF%BC%88%E7%BD%91%E6%98%93%E9%82%AE%E7%AE%B1%E5%8F%8A%E5%BE%AE%E4%BF%A1%E8%B4%A6%E5%8F%B7%EF%BC%89/">有道云笔记两个账号合并（网易邮箱及微信账号）</a></li><li class="post-list-item"><a class="post-list-link" href="/kms%E5%B7%A5%E5%85%B7%E6%BF%80%E6%B4%BBoffice-ltsc-%E6%8A%A5%E9%94%99-error-code-0x80080005/">KMS工具激活Office LTSC 报错 Error Code: 0x80080005</a></li><li class="post-list-item"><a class="post-list-link" href="/vmware-esxi-%E7%94%B15-5%E5%8D%87%E7%BA%A7%E5%88%B07-0/">VMware ESXi 由5.5升级到7.0</a></li><li class="post-list-item"><a class="post-list-link" href="/%E5%B0%8F%E7%B1%B38-%E5%88%B7%E7%AC%AC%E4%B8%89%E6%96%B9%E5%9B%BA%E4%BB%B6%E5%A7%8B%E6%9C%AB/">小米8 刷第三方固件始末</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/lib/" style="font-size: 15px;">lib</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/php%E5%BC%80%E6%BA%90%E7%A8%8B%E5%BA%8F/" style="font-size: 15px;">php开源程序</a> <a href="/tags/301/" style="font-size: 15px;">301</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/access-connections/" style="font-size: 15px;">access connections</a> <a href="/tags/Thinkpad/" style="font-size: 15px;">Thinkpad</a> <a href="/tags/adobe/" style="font-size: 15px;">adobe</a> <a href="/tags/ajax/" style="font-size: 15px;">ajax</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/spry/" style="font-size: 15px;">spry</a> <a href="/tags/android/" style="font-size: 15px;">android</a> <a href="/tags/apache/" style="font-size: 15px;">apache</a> <a href="/tags/htaccess/" style="font-size: 15px;">htaccess</a> <a href="/tags/a2ensite/" style="font-size: 15px;">a2ensite</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/%E7%BB%8F%E9%AA%8C/" style="font-size: 15px;">经验</a> <a href="/tags/bash/" style="font-size: 15px;">bash</a> <a href="/tags/windows/" style="font-size: 15px;">windows</a> <a href="/tags/windows10/" style="font-size: 15px;">windows10</a> <a href="/tags/bitcoin/" style="font-size: 15px;">bitcoin</a> <a href="/tags/p2p/" style="font-size: 15px;">p2p</a> <a href="/tags/hadoop/" style="font-size: 15px;">hadoop</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97/" style="font-size: 15px;">分布式计算</a> <a href="/tags/blackboard/" style="font-size: 15px;">blackboard</a> <a href="/tags/bb/" style="font-size: 15px;">bb</a> <a href="/tags/centos/" style="font-size: 15px;">centos</a> <a href="/tags/iptables/" style="font-size: 15px;">iptables</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/buffering/" style="font-size: 15px;">buffering</a> <a href="/tags/output/" style="font-size: 15px;">output</a> <a href="/tags/output-buffering/" style="font-size: 15px;">output_buffering</a> <a href="/tags/php-ini/" style="font-size: 15px;">php.ini</a> <a href="/tags/cdrom/" style="font-size: 15px;">cdrom</a> <a href="/tags/CentOS/" style="font-size: 15px;">CentOS</a> <a href="/tags/yum/" style="font-size: 15px;">yum</a> <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 15px;">运维</a> <a href="/tags/clear/" style="font-size: 15px;">clear</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/ie6/" style="font-size: 15px;">ie6</a> <a href="/tags/%E5%8D%A0%E7%94%A8%E9%AB%98%E5%BA%A6/" style="font-size: 15px;">占用高度</a> <a href="/tags/ckeditor/" style="font-size: 15px;">ckeditor</a> <a href="/tags/wordpress/" style="font-size: 15px;">wordpress</a> <a href="/tags/gd/" style="font-size: 15px;">gd</a> <a href="/tags/imagecreate/" style="font-size: 15px;">imagecreate</a> <a href="/tags/dfGallery/" style="font-size: 15px;">dfGallery</a> <a href="/tags/dotproject/" style="font-size: 15px;">dotproject</a> <a href="/tags/project/" style="font-size: 15px;">project</a> <a href="/tags/excel/" style="font-size: 15px;">excel</a> <a href="/tags/N-A/" style="font-size: 15px;">#N/A</a> <a href="/tags/Office%E6%8A%80%E5%B7%A7/" style="font-size: 15px;">Office技巧</a> <a href="/tags/office/" style="font-size: 15px;">office</a> <a href="/tags/compact/" style="font-size: 15px;">compact</a> <a href="/tags/extract/" style="font-size: 15px;">extract</a> <a href="/tags/fck%EF%BC%8Ceditor/" style="font-size: 15px;">fck，editor</a> <a href="/tags/ftp/" style="font-size: 15px;">ftp</a> <a href="/tags/buzz/" style="font-size: 15px;">buzz</a> <a href="/tags/google-reader/" style="font-size: 15px;">google reader</a> <a href="/tags/google/" style="font-size: 15px;">google</a> <a href="/tags/hosts/" style="font-size: 15px;">hosts</a> <a href="/tags/ipv6/" style="font-size: 15px;">ipv6</a> <a href="/tags/%E6%9C%80%E6%96%B0%E8%B5%84%E8%AE%AF/" style="font-size: 15px;">最新资讯</a> <a href="/tags/hook/" style="font-size: 15px;">hook</a> <a href="/tags/flash/" style="font-size: 15px;">flash</a> <a href="/tags/html4/" style="font-size: 15px;">html4</a> <a href="/tags/Web-Applacation/" style="font-size: 15px;">Web Applacation</a> <a href="/tags/insert-ino/" style="font-size: 15px;">insert ino</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/sql/" style="font-size: 15px;">sql</a> <a href="/tags/update/" style="font-size: 15px;">update</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/jeecms/" style="font-size: 15px;">jeecms</a> <a href="/tags/jpgraph/" style="font-size: 15px;">jpgraph</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/jQuery-lightBox/" style="font-size: 15px;">jQuery lightBox</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/0x80080005/" style="font-size: 15px;">0x80080005</a> <a href="/tags/kms/" style="font-size: 15px;">kms</a> <a href="/tags/SppExtComObj/" style="font-size: 15px;">SppExtComObj</a> <a href="/tags/pchart/" style="font-size: 15px;">pchart</a> <a href="/tags/limesurvey/" style="font-size: 15px;">limesurvey</a> <a href="/tags/fckeditor/" style="font-size: 15px;">fckeditor</a> <a href="/tags/%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93/" style="font-size: 15px;">中文字体</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 15px;">网络</a> <a href="/tags/mb-substr/" style="font-size: 15px;">mb_substr</a> <a href="/tags/spss/" style="font-size: 15px;">spss</a> <a href="/tags/bootcamp/" style="font-size: 15px;">bootcamp</a> <a href="/tags/macbook/" style="font-size: 15px;">macbook</a> <a href="/tags/macos/" style="font-size: 15px;">macos</a> <a href="/tags/%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81/" style="font-size: 15px;">重置密码</a> <a href="/tags/rss/" style="font-size: 15px;">rss</a> <a href="/tags/ssh/" style="font-size: 15px;">ssh</a> <a href="/tags/MariaDB/" style="font-size: 15px;">MariaDB</a> <a href="/tags/mysqlnd/" style="font-size: 15px;">mysqlnd</a> <a href="/tags/mysq/" style="font-size: 15px;">mysq</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" style="font-size: 15px;">命令行</a> <a href="/tags/%E5%A4%87%E4%BB%BD/" style="font-size: 15px;">备份</a> <a href="/tags/%E8%BF%98%E5%8E%9F/" style="font-size: 15px;">还原</a> <a href="/tags/expires/" style="font-size: 15px;">expires</a></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2025 <a href="/." rel="nofollow">ICT经验网.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a> Theme by<a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Maupassant.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="https://unpkg.com/@fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>